#include "./src/tokenizer/tokenizer.hpp"
#include<iostream>
#include<string>
#include<chrono>

int main() {

    tokenizer t;

    // corpus size(content) : 14685 characters(including spaces)
    // assuming the corpus is already preprocessed

    std::string content = "hello world i am pranav and i slay low level programming fhlkdjf jdlfjadjf kfjalwkdjfoew foiewhf hfioewhnadwll ehfioahnkadwnl fheawoihfsadfnlawd fhoiewhfoaeijf foewiahfawhdfoa fhwjojl fhioewahf afldfhoeiaw fhaewiohf fhoaewfh ndja fheoihf heoiawhf hfow ifhoa fihfoiahf ahfn aohfoe fheoi ahaf aofao aoefo ao fahof aoihof oaf fiojaoij foiaw fioa ofoiehaoiehj fioa of eoahfoa fio afoihaof oaefoai foiaew fioa ifhioea fhoie fjahdf fladsjfkl adsfdfk hello world i am pranav and i slay low level programming fhlkdjf jdlfjadjf kfjalwkdjfoew foiewhf hfioewhnadwll ehfioahnkadwnl fheawoihfsadfnlawd fhoiewhfoaeijf foewiahfawhdfoa fhwjojl fhioewahf afldfhoeiaw fhaewiohf fhoaewfh ndja fheoihf heoiawhf hfow ifhoa fihfoiahf ahfn aohfoe fheoi ahaf aofao aoefo ao fahof aoihof oaf fiojaoij foiaw fioa ofoiehaoiehj fioa of eoahfoa fio afoihaof oaefoai foiaew fioa ifhioea fhoie fjahdf fladsjfkl adsfdfk hello world i am pranav and i slay low level programming fhlkdjf jdlfjadjf kfjalwkdjfoew foiewhf hfioewhnadwll ehfioahnkadwnl fheawoihfsadfnlawd fhoiewhfoaeijf foewiahfawhdfoa fhwjojl fhioewahf afldfhoeiaw fhaewiohf fhoaewfh ndja fheoihf heoiawhf hfow ifhoa fihfoiahf ahfn aohfoe fheoi ahaf aofao aoefo ao fahof aoihof oaf fiojaoij foiaw fioa ofoiehaoiehj fioa of eoahfoa fio afoihaof oaefoai foiaew fioa ifhioea fhoie fjahdf fladsjfkl adsfdfk hello world i am pranav and i slay low level programming fhlkdjf jdlfjadjf kfjalwkdjfoew foiewhf hfioewhnadwll ehfioahnkadwnl fheawoihfsadfnlawd fhoiewhfoaeijf foewiahfawhdfoa fhwjojl fhioewahf afldfhoeiaw fhaewiohf fhoaewfh ndja fheoihf heoiawhf hfow ifhoa fihfoiahf ahfn aohfoe fheoi ahaf aofao aoefo ao fahof aoihof oaf fiojaoij foiaw fioa ofoiehaoiehj fioa of eoahfoa fio afoihaof oaefoai foiaew fioa ifhioea fhoie fjahdf fladsjfkl adsfdfk hello world i am pranav and i slay low level programming fhlkdjf jdlfjadjf kfjalwkdjfoew foiewhf hfioewhnadwll ehfioahnkadwnl fheawoihfsadfnlawd fhoiewhfoaeijf foewiahfawhdfoa fhwjojl fhioewahf afldfhoeiaw fhaewiohf fhoaewfh ndja fheoihf heoiawhf hfow ifhoa fihfoiahf ahfn aohfoe fheoi ahaf aofao aoefo ao fahof aoihof oaf fiojaoij foiaw fioa ofoiehaoiehj fioa of eoahfoa fio afoihaof oaefoai foiaew fioa ifhioea fhoie fjahdf fladsjfkl adsfdfk hello world i am pranav and i slay low level programming fhlkdjf jdlfjadjf kfjalwkdjfoew foiewhf hfioewhnadwll ehfioahnkadwnl fheawoihfsadfnlawd fhoiewhfoaeijf foewiahfawhdfoa fhwjojl fhioewahf afldfhoeiaw fhaewiohf fhoaewfh ndja fheoihf heoiawhf hfow ifhoa fihfoiahf ahfn aohfoe fheoi ahaf aofao aoefo ao fahof aoihof oaf fiojaoij foiaw fioa ofoiehaoiehj fioa of eoahfoa fio afoihaof oaefoai foiaew fioa ifhioea fhoie fjahdf fladsjfkl adsfdfk hello world i am pranav and i slay low level programming fhlkdjf jdlfjadjf kfjalwkdjfoew foiewhf hfioewhnadwll ehfioahnkadwnl fheawoihfsadfnlawd fhoiewhfoaeijf foewiahfawhdfoa fhwjojl fhioewahf afldfhoeiaw fhaewiohf fhoaewfh ndja fheoihf heoiawhf hfow ifhoa fihfoiahf ahfn aohfoe fheoi ahaf aofao aoefo ao fahof aoihof oaf fiojaoij foiaw fioa ofoiehaoiehj fioa of eoahfoa fio afoihaof oaefoai foiaew fioa ifhioea fhoie fjahdf fladsjfkl adsfdfk hello world i am pranav and i slay low level programming fhlkdjf jdlfjadjf kfjalwkdjfoew foiewhf hfioewhnadwll ehfioahnkadwnl fheawoihfsadfnlawd fhoiewhfoaeijf foewiahfawhdfoa fhwjojl fhioewahf afldfhoeiaw fhaewiohf fhoaewfh ndja fheoihf heoiawhf hfow ifhoa fihfoiahf ahfn aohfoe fheoi ahaf aofao aoefo ao fahof aoihof oaf fiojaoij foiaw fioa ofoiehaoiehj fioa of eoahfoa fio afoihaof oaefoai foiaew fioa ifhioea fhoie fjahdf fladsjfkl adsfdfk hello world hello world i am pranav and i slay low level programming fhlkdjf jdlfjadjf kfjalwkdjfoew foiewhf hfioewhnadwll ehfioahnkadwnl fheawoihfsadfnlawd fhoiewhfoaeijf foewiahfawhdfoa fhwjojl fhioewahf afldfhoeiaw fhaewiohf fhoaewfh ndja fheoihf heoiawhf hfow ifhoa fihfoiahf ahfn aohfoe fheoi ahaf aofao aoefo ao fahof aoihof oaf fiojaoij foiaw fioa ofoiehaoiehj fioa of eoahfoa fio afoihaof oaefoai foiaew fioa ifhioea fhoie fjahdf fladsjfkl adsfdfk hello world i am pranav and i slay low level programming fhlkdjf jdlfjadjf kfjalwkdjfoew foiewhf hfioewhnadwll ehfioahnkadwnl fheawoihfsadfnlawd fhoiewhfoaeijf foewiahfawhdfoa fhwjojl fhioewahf afldfhoeiaw fhaewiohf fhoaewfh ndja fheoihf heoiawhf hfow ifhoa fihfoiahf ahfn aohfoe fheoi ahaf aofao aoefo ao fahof aoihof oaf fiojaoij foiaw fioa ofoiehaoiehj fioa of eoahfoa fio afoihaof oaefoai foiaew fioa ifhioea fhoie fjahdf fladsjfkl adsfdfk hello world i am pranav and i slay low level programming fhlkdjf jdlfjadjf kfjalwkdjfoew foiewhf hfioewhnadwll ehfioahnkadwnl fheawoihfsadfnlawd fhoiewhfoaeijf foewiahfawhdfoa fhwjojl fhioewahf afldfhoeiaw fhaewiohf fhoaewfh ndja fheoihf heoiawhf hfow ifhoa fihfoiahf ahfn aohfoe fheoi ahaf aofao aoefo ao fahof aoihof oaf fiojaoij foiaw fioa ofoiehaoiehj fioa of eoahfoa fio afoihaof oaefoai foiaew fioa ifhioea fhoie fjahdf fladsjfkl adsfdfk hello world i am pranav and i slay low level programming fhlkdjf jdlfjadjf kfjalwkdjfoew foiewhf hfioewhnadwll ehfioahnkadwnl fheawoihfsadfnlawd fhoiewhfoaeijf foewiahfawhdfoa fhwjojl fhioewahf afldfhoeiaw fhaewiohf fhoaewfh ndja fheoihf heoiawhf hfow ifhoa fihfoiahf ahfn aohfoe fheoi ahaf aofao aoefo ao fahof aoihof oaf fiojaoij foiaw fioa ofoiehaoiehj fioa of eoahfoa fio afoihaof oaefoai foiaew fioa ifhioea fhoie fjahdf fladsjfkl adsfdfk hello world i am pranav and i slay low level programming fhlkdjf jdlfjadjf kfjalwkdjfoew foiewhf hfioewhnadwll ehfioahnkadwnl fheawoihfsadfnlawd fhoiewhfoaeijf foewiahfawhdfoa fhwjojl fhioewahf afldfhoeiaw fhaewiohf fhoaewfh ndja fheoihf heoiawhf hfow ifhoa fihfoiahf ahfn aohfoe fheoi ahaf aofao aoefo ao fahof aoihof oaf fiojaoij foiaw fioa ofoiehaoiehj fioa of eoahfoa fio afoihaof oaefoai foiaew fioa ifhioea fhoie fjahdf fladsjfkl adsfdfk hello world i am pranav and i slay low level programming fhlkdjf jdlfjadjf kfjalwkdjfoew foiewhf hfioewhnadwll ehfioahnkadwnl fheawoihfsadfnlawd fhoiewhfoaeijf foewiahfawhdfoa fhwjojl fhioewahf afldfhoeiaw fhaewiohf fhoaewfh ndja fheoihf heoiawhf hfow ifhoa fihfoiahf ahfn aohfoe fheoi ahaf aofao aoefo ao fahof aoihof oaf fiojaoij foiaw fioa ofoiehaoiehj fioa of eoahfoa fio afoihaof oaefoai foiaew fioa ifhioea fhoie fjahdf fladsjfkl adsfdfk hello world i am pranav and i slay low level programming fhlkdjf jdlfjadjf kfjalwkdjfoew foiewhf hfioewhnadwll ehfioahnkadwnl fheawoihfsadfnlawd fhoiewhfoaeijf foewiahfawhdfoa fhwjojl fhioewahf afldfhoeiaw fhaewiohf fhoaewfh ndja fheoihf heoiawhf hfow ifhoa fihfoiahf ahfn aohfoe fheoi ahaf aofao aoefo ao fahof aoihof oaf fiojaoij foiaw fioa ofoiehaoiehj fioa of eoahfoa fio afoihaof oaefoai foiaew fioa ifhioea fhoie fjahdf fladsjfkl adsfdfk hello world i am pranav and i slay low level programming fhlkdjf jdlfjadjf kfjalwkdjfoew foiewhf hfioewhnadwll ehfioahnkadwnl fheawoihfsadfnlawd fhoiewhfoaeijf foewiahfawhdfoa fhwjojl fhioewahf afldfhoeiaw fhaewiohf fhoaewfh ndja fheoihf heoiawhf hfow ifhoa fihfoiahf ahfn aohfoe fheoi ahaf aofao aoefo ao fahof aoihof oaf fiojaoij foiaw fioa ofoiehaoiehj fioa of eoahfoa fio afoihaof oaefoai foiaew fioa ifhioea fhoie fjahdf fladsjfkl adsfdfk hello world i am pranav and i slay low level programming fhlkdjf jdlfjadjf kfjalwkdjfoew foiewhf hfioewhnadwll ehfioahnkadwnl fheawoihfsadfnlawd fhoiewhfoaeijf foewiahfawhdfoa fhwjojl fhioewahf afldfhoeiaw fhaewiohf fhoaewfh ndja fheoihf heoiawhf hfow ifhoa fihfoiahf ahfn aohfoe fheoi ahaf aofao aoefo ao fahof aoihof oaf fiojaoij foiaw fioa ofoiehaoiehj fioa of eoahfoa fio afoihaof oaefoai foiaew fioa ifhioea fhoie fjahdf fladsjfkl adsfdfk hello world i am pranav and i slay low level programming fhlkdjf jdlfjadjf kfjalwkdjfoew foiewhf hfioewhnadwll ehfioahnkadwnl fheawoihfsadfnlawd fhoiewhfoaeijf foewiahfawhdfoa fhwjojl fhioewahf afldfhoeiaw fhaewiohf fhoaewfh ndja fheoihf heoiawhf hfow ifhoa fihfoiahf ahfn aohfoe fheoi ahaf aofao aoefo ao fahof aoihof oaf fiojaoij foiaw fioa ofoiehaoiehj fioa of eoahfoa fio afoihaof oaefoai foiaew fioa ifhioea fhoie fjahdf fladsjfkl adsfdfk hello world i am pranav and i slay low level programming fhlkdjf jdlfjadjf kfjalwkdjfoew foiewhf hfioewhnadwll ehfioahnkadwnl fheawoihfsadfnlawd fhoiewhfoaeijf foewiahfawhdfoa fhwjojl fhioewahf afldfhoeiaw fhaewiohf fhoaewfh ndja fheoihf heoiawhf hfow ifhoa fihfoiahf ahfn aohfoe fheoi ahaf aofao aoefo ao fahof aoihof oaf fiojaoij foiaw fioa ofoiehaoiehj fioa of eoahfoa fio afoihaof oaefoai foiaew fioa ifhioea fhoie fjahdf fladsjfkl adsfdfk hello world i am pranav and i slay low level programming fhlkdjf jdlfjadjf kfjalwkdjfoew foiewhf hfioewhnadwll ehfioahnkadwnl fheawoihfsadfnlawd fhoiewhfoaeijf foewiahfawhdfoa fhwjojl fhioewahf afldfhoeiaw fhaewiohf fhoaewfh ndja fheoihf heoiawhf hfow ifhoa fihfoiahf ahfn aohfoe fheoi ahaf aofao aoefo ao fahof aoihof oaf fiojaoij foiaw fioa ofoiehaoiehj fioa of eoahfoa fio afoihaof oaefoai foiaew fioa ifhioea fhoie fjahdf fladsjfkl adsfdfk hello world i am pranav and i slay low level programming fhlkdjf jdlfjadjf kfjalwkdjfoew foiewhf hfioewhnadwll ehfioahnkadwnl fheawoihfsadfnlawd fhoiewhfoaeijf foewiahfawhdfoa fhwjojl fhioewahf afldfhoeiaw fhaewiohf fhoaewfh ndja fheoihf heoiawhf hfow ifhoa fihfoiahf ahfn aohfoe fheoi ahaf aofao aoefo ao fahof aoihof oaf fiojaoij foiaw fioa ofoiehaoiehj fioa of eoahfoa fio afoihaof oaefoai foiaew fioa ifhioea fhoie fjahdf fladsjfkl adsfdfk hello world i am pranav and i slay low level programming fhlkdjf jdlfjadjf kfjalwkdjfoew foiewhf hfioewhnadwll ehfioahnkadwnl fheawoihfsadfnlawd fhoiewhfoaeijf foewiahfawhdfoa fhwjojl fhioewahf afldfhoeiaw fhaewiohf fhoaewfh ndja fheoihf heoiawhf hfow ifhoa fihfoiahf ahfn aohfoe fheoi ahaf aofao aoefo ao fahof aoihof oaf fiojaoij foiaw fioa ofoiehaoiehj fioa of eoahfoa fio afoihaof oaefoai foiaew fioa ifhioea fhoie fjahdf fladsjfkl adsfdfk hello world i am pranav and i slay low level programming fhlkdjf jdlfjadjf kfjalwkdjfoew foiewhf hfioewhnadwll ehfioahnkadwnl fheawoihfsadfnlawd fhoiewhfoaeijf foewiahfawhdfoa fhwjojl fhioewahf afldfhoeiaw fhaewiohf fhoaewfh ndja fheoihf heoiawhf hfow ifhoa fihfoiahf ahfn aohfoe fheoi ahaf aofao aoefo ao fahof aoihof oaf fiojaoij foiaw fioa ofoiehaoiehj fioa of eoahfoa fio afoihaof oaefoai foiaew fioa ifhioea fhoie fjahdf fladsjfkl adsfdfk hello world i am pranav and i slay low level programming fhlkdjf jdlfjadjf kfjalwkdjfoew foiewhf hfioewhnadwll ehfioahnkadwnl fheawoihfsadfnlawd fhoiewhfoaeijf foewiahfawhdfoa fhwjojl fhioewahf afldfhoeiaw fhaewiohf fhoaewfh ndja fheoihf heoiawhf hfow ifhoa fihfoiahf ahfn aohfoe fheoi ahaf aofao aoefo ao fahof aoihof oaf fiojaoij foiaw fioa ofoiehaoiehj fioa of eoahfoa fio afoihaof oaefoai foiaew fioa ifhioea fhoie fjahdf fladsjfkl adsfdfk hello world i am pranav and i slay low level programming fhlkdjf jdlfjadjf kfjalwkdjfoew foiewhf hfioewhnadwll ehfioahnkadwnl fheawoihfsadfnlawd fhoiewhfoaeijf foewiahfawhdfoa fhwjojl fhioewahf afldfhoeiaw fhaewiohf fhoaewfh ndja fheoihf heoiawhf hfow ifhoa fihfoiahf ahfn aohfoe fheoi ahaf aofao aoefo ao fahof aoihof oaf fiojaoij foiaw fioa ofoiehaoiehj fioa of eoahfoa fio afoihaof oaefoai foiaew fioa ifhioea fhoie fjahdf fladsjfkl adsfdfk hello world i am pranav and i slay low level programming fhlkdjf jdlfjadjf kfjalwkdjfoew foiewhf hfioewhnadwll ehfioahnkadwnl fheawoihfsadfnlawd fhoiewhfoaeijf foewiahfawhdfoa fhwjojl fhioewahf afldfhoeiaw fhaewiohf fhoaewfh ndja fheoihf heoiawhf hfow ifhoa fihfoiahf ahfn aohfoe fheoi ahaf aofao aoefo ao fahof aoihof oaf fiojaoij foiaw fioa ofoiehaoiehj fioa of eoahfoa fio afoihaof oaefoai foiaew fioa ifhioea fhoie fjahdf fladsjfkl adsfdfk hello world i am pranav and i slay low level programming fhlkdjf jdlfjadjf kfjalwkdjfoew foiewhf hfioewhnadwll ehfioahnkadwnl fheawoihfsadfnlawd fhoiewhfoaeijf foewiahfawhdfoa fhwjojl fhioewahf afldfhoeiaw fhaewiohf fhoaewfh ndja fheoihf heoiawhf hfow ifhoa fihfoiahf ahfn aohfoe fheoi ahaf aofao aoefo ao fahof aoihof oaf fiojaoij foiaw fioa ofoiehaoiehj fioa of eoahfoa fio afoihaof oaefoai foiaew fioa ifhioea fhoie fjahdf fladsjfkl adsfdfk hello world i am pranav and i slay low level programming fhlkdjf jdlfjadjf kfjalwkdjfoew foiewhf hfioewhnadwll ehfioahnkadwnl fheawoihfsadfnlawd fhoiewhfoaeijf foewiahfawhdfoa fhwjojl fhioewahf afldfhoeiaw fhaewiohf fhoaewfh ndja fheoihf heoiawhf hfow ifhoa fihfoiahf ahfn aohfoe fheoi ahaf aofao aoefo ao fahof aoihof oaf fiojaoij foiaw fioa ofoiehaoiehj fioa of eoahfoa fio afoihaof oaefoai foiaew fioa ifhioea fhoie fjahdf fladsjfkl adsfdfk hello world i am pranav and i slay low level programming fhlkdjf jdlfjadjf kfjalwkdjfoew foiewhf hfioewhnadwll ehfioahnkadwnl fheawoihfsadfnlawd fhoiewhfoaeijf foewiahfawhdfoa fhwjojl fhioewahf afldfhoeiaw fhaewiohf fhoaewfh ndja fheoihf heoiawhf hfow ifhoa fihfoiahf ahfn aohfoe fheoi ahaf aofao aoefo ao fahof aoihof oaf fiojaoij foiaw fioa ofoiehaoiehj fioa of eoahfoa fio afoihaof oaefoai foiaew fioa ifhioea fhoie fjahdf fladsjfkl adsfdfk";

    // calculating time taken for sequential tokenization
    auto start = std::chrono::high_resolution_clock::now();
    _type_token tokens1 = t.tokenize(content);
    auto end = std::chrono::high_resolution_clock::now();
    std::cout<<"\n\nSequential Tokenization(ns) : "<<std::chrono::duration_cast<std::chrono::nanoseconds>(end - start).count()<<std::endl;

    // calculating time taken for parallel tokenization
    start = std::chrono::high_resolution_clock::now();
    _type_token tokens2 = t.tokenize_multithreaded(content);
    end = std::chrono::high_resolution_clock::now();
    std::cout<<"Multithreaded Tokenization(ns) : "<<std::chrono::duration_cast<std::chrono::nanoseconds>(end - start).count()<<std::endl;

    std::cout<<"Corpus Size(chars) : "<<content.length()<<std::endl;
    std::cout<<"Total Tokens : "<<tokens2.size()<<std::endl;
    std::cout<<"Num Threads : 2\n"<<std::endl;


    return 0;
}